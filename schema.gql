# -----------------------------------------------
# !!! THIS FILE WAS GENERATED BY TYPE-GRAPHQL !!!
# !!!   DO NOT MODIFY THIS FILE BY YOURSELF   !!!
# -----------------------------------------------

"""游戏类型"""
enum GameType {
  Avalon
  GermanHeartDisease
  Undercover
  UNO
  Werewolf
}

"""创建游戏配置"""
interface IGameConfig {
  """阵容"""
  lineup: [Role!]

  """总人数"""
  totalNumber: Int!
}

"""创建游戏配置"""
input InputGameConfig {
  """游戏类型"""
  gameType: GameType!

  """阵容"""
  lineup: [InputRole!] = []

  """总人数"""
  totalNumber: Int!
}

"""角色"""
input InputRole {
  """角色数量"""
  count: Int!

  """角色名称"""
  name: String!
}

""" 游戏房间"""
interface IRoom {
  """游戏配置"""
  gameConfig: IGameConfig!

  """游戏类型"""
  gameType: GameType!

  """是否开始"""
  isBegin: Boolean

  """是否结束"""
  isEnd: Boolean

  """阵容"""
  lineup: LineUp @deprecated(reason: "改为多个游戏，使用GameConfig")

  """密码"""
  password: String!

  """玩家信息"""
  players: [Player!]!

  """玩家人数"""
  playersNumber: Int!

  """房间号"""
  roomNumber: Int!
}

"""狼人杀阵容组合"""
enum LineUp {
  STANDARD_NINE
}

type Mutation {
  """开始游戏"""
  undercoverBeginGame(
    """房间号"""
    roomNumber: Int!
  ): UnderCoverRoom!

  """创建房间"""
  undercoverCreateRoom(config: InputGameConfig!): UnderCoverRoom!

  """开始发牌"""
  undercoverDeal(
    """房间号"""
    roomNumber: Int!
  ): UnderCoverRoom!

  """结束游戏"""
  undercoverEndGame(
    """房间号"""
    roomNumber: Int!
  ): UnderCoverRoom!

  """加入房间"""
  undercoverJoinRoom(
    """房间号"""
    roomNumber: Int!
  ): UnderCoverRoom!

  """选择位置"""
  undercoverSelectPos(
    """位置"""
    position: Int!

    """房间号"""
    roomNumber: Int!
  ): UnderCoverRoom!

  """开始游戏"""
  werewolfBeginGame(
    """房间号"""
    roomNumber: Int!
  ): WerewolfRoom!

  """创建房间"""
  werewolfCreateRoom(config: InputGameConfig!): WerewolfRoom!

  """开始发牌"""
  werewolfDeal(
    """房间号"""
    roomNumber: Int!
  ): WerewolfRoom!

  """结束游戏"""
  werewolfEndGame(
    """房间号"""
    roomNumber: Int!
  ): WerewolfRoom!

  """加入房间"""
  werewolfJoinRoom(
    """房间号"""
    roomNumber: Int!
  ): WerewolfRoom!

  """选择位置"""
  werewolfSelectPos(
    """位置"""
    position: Int!

    """房间号"""
    roomNumber: Int!
  ): WerewolfRoom!
}

"""游戏玩家"""
type Player {
  """位置"""
  position: Int!

  """角色"""
  role: String
}

type Query {
  allUsers: [User!]

  """查询房间"""
  undercoverRoomByNumber(number: Int!): UnderCoverRoom!
  undercoverRooms: [UnderCoverRoom!]
  userByPhone(phone: String!): User!

  """查询房间"""
  werewolfRoomByNumber(number: Int!): WerewolfRoom!
  werewolfRooms: [WerewolfRoom!]
}

"""角色"""
type Role {
  """角色数量"""
  count: Int!

  """角色名称"""
  name: String!
}

type Subscription {
  """订阅房间变化"""
  undercoverRoomUpdated(
    """房间号"""
    roomNumber: Int!
  ): UnderCoverRoom!

  """订阅房间变化"""
  werewolfRoomUpdated(
    """房间号"""
    roomNumber: Int!
  ): WerewolfRoom!
}

"""谁是卧底游戏配置"""
type UnderCoverConfig implements IGameConfig {
  """阵容"""
  lineup: [Role!]

  """总人数"""
  totalNumber: Int!
}

"""谁是卧底房间"""
type UnderCoverRoom implements IRoom {
  """谁是卧底游戏配置"""
  gameConfig: UnderCoverConfig!

  """游戏类型"""
  gameType: GameType!

  """是否开始"""
  isBegin: Boolean

  """是否结束"""
  isEnd: Boolean

  """阵容"""
  lineup: LineUp @deprecated(reason: "改为多个游戏，使用GameConfig")

  """密码"""
  password: String!

  """玩家信息"""
  players: [Player!]!

  """玩家人数"""
  playersNumber: Int!

  """房间号"""
  roomNumber: Int!
}

type User {
  """邮箱"""
  email: String!

  """密码"""
  password: String!

  """手机号"""
  phone: String!

  """用户名"""
  username: String!
}

"""狼人杀游戏配置"""
type WerewolfConfig implements IGameConfig {
  """阵容"""
  lineup: [Role!]

  """总人数"""
  totalNumber: Int!
}

"""狼人杀房间"""
type WerewolfRoom implements IRoom {
  """狼人杀游戏配置"""
  gameConfig: WerewolfConfig!

  """游戏类型"""
  gameType: GameType!

  """是否开始"""
  isBegin: Boolean

  """是否结束"""
  isEnd: Boolean

  """阵容"""
  lineup: LineUp @deprecated(reason: "改为多个游戏，使用GameConfig")

  """密码"""
  password: String!

  """玩家信息"""
  players: [Player!]!

  """玩家人数"""
  playersNumber: Int!

  """房间号"""
  roomNumber: Int!
}
